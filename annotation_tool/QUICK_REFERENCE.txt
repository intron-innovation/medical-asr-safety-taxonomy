â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                               â•‘
â•‘         ğŸ¯ ASR ERROR ANNOTATION TOOL - COMPLETE PACKAGE ğŸ¯                   â•‘
â•‘                                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ WHAT YOU HAVE:

  âœ… annotation_interface.html
     â””â”€ Professional web interface for annotating ASR errors
     â””â”€ Features: Side-by-side transcripts, color-coded errors, severity slider
     â””â”€ Browser-based (no installation needed!)

  âœ… prepare_annotations.py  
     â””â”€ Convert Excel results â†’ JSON for the web tool
     â””â”€ Supports: Whisper, Phi-4, Parakeet, Granite, Primock

  âœ… process_annotations.py
     â””â”€ Convert annotations â†’ Back to Excel/CSV
     â””â”€ Creates analysis-ready DataFrames

  âœ… Documentation
     â””â”€ ANNOTATION_TOOL_README.md - Comprehensive guide
     â””â”€ SETUP_GUIDE.md - This quick reference

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš¡ QUICKEST START (3 steps):

  1ï¸âƒ£  Prepare your data:
      $ python prepare_annotations.py --input all_result_processed.xlsx --model whisper
      â†’ Creates: whisper_annotation_data.json

  2ï¸âƒ£  Open interface and annotate:
      â†’ Open annotation_interface.html in your browser
      â†’ Click "ğŸ“ Load JSON File"
      â†’ Select the JSON file from step 1
      â†’ Click errors and assign taxonomy + severity

  3ï¸âƒ£  Process results:
      $ python process_annotations.py --annotations asr_annotations_*.json --original all_result_processed.xlsx
      â†’ Creates: results_with_annotations.xlsx (ready for analysis!)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¨ THE ANNOTATION INTERFACE:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                         â”‚
â”‚  Human Transcript         â”‚    ASR Output (Marked Up)  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
â”‚                           â”‚                            â”‚
â”‚  how can i help you       â”‚  how [INS: ++can++] i     â”‚
â”‚  so i came in today       â”‚  help you [DEL: __um__]   â”‚
â”‚  because i've been        â”‚                            â”‚
â”‚  feeling sick             â”‚  so i came [SUB: ~~in~~]  â”‚
â”‚                           â”‚  today because ive been   â”‚
â”‚                           â”‚  feeling sick             â”‚
â”‚                           â”‚                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Color Legend:
  ğŸ”´ [DEL: __word__]    = Deletion (word was missed)
  ğŸŸ¡ [SUB: ~~word~~]    = Substitution (wrong word)  
  ğŸ”µ [INS: ++word++]    = Insertion (extra word)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ ERROR TAXONOMY (5 Categories):

  ğŸ’Š Medication          - Drug names, dosages, interactions, side effects
  ğŸ¥ Clinical Concepts  - Medical terms, conditions, symptoms, procedures
  â±ï¸  Temporal           - Dates, times, durations, frequencies
  ğŸ”¢ Numerics           - Numbers, measurements, vital signs, lab values
  ğŸ‘¤ Identity           - Names, IDs, personal identifiers

  âœ¨ NOTE: One error can have MULTIPLE taxonomy tags!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸  SEVERITY SCALE (0-5):

  0: None
     Impact: âˆ… No impact, doesn't matter
     Example: [DEL: __uh__] (filler word)

  1: Minor  
     Impact: â‰ˆ Minimal, easily overlooked
     Example: [SUB: ~~tree~~] for "three" (clear from context)

  2: Low
     Impact: â–³ Some impact but context preserved  
     Example: [SUB: ~~asprin~~] for "aspirin" (recognizable)

  3: Medium
     Impact: â–² Notable impact on meaning
     Example: [SUB: ~~twice~~] for "once" a day (timing matters)

  4: High
     Impact: âš ï¸  Significant impact on clinical information
     Example: [DEL: __500mg__] from "metformin 500mg" (dosage critical)

  5: Critical
     Impact: ğŸš¨ SEVERE - patient safety/care concerns
     Example: [SUB: ~~ibuprofen~~] for "insulin" (wrong drug class!)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ”„ COMPLETE WORKFLOW:

  Data Preparation Phase:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ all_result_processed.xlsx          â”‚
  â”‚ (your original processed results)   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ python prepare_annotations.py            â”‚
  â”‚ --input all_result_processed.xlsx        â”‚
  â”‚ --model whisper                          â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ whisper_annotation_data.json             â”‚
  â”‚ (ready for web interface)                â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Annotation Phase:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ Open annotation_interface.html            â”‚
  â”‚ â†’ Load JSON file                         â”‚
  â”‚ â†’ Click & annotate errors                â”‚
  â”‚ â†’ Review in Summary tab                  â”‚
  â”‚ â†’ Export annotations                     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ asr_annotations_TIMESTAMP.json           â”‚
  â”‚ (your annotation results)                â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

  Results Processing Phase:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ python process_annotations.py            â”‚
  â”‚ --annotations asr_annotations_*.json     â”‚
  â”‚ --original all_result_processed.xlsx     â”‚
  â”‚ --report                                 â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â†“
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ results_with_annotations.xlsx               â”‚
  â”‚ â†’ Original data + annotation columns        â”‚
  â”‚ â†’ Ready for analysis!                       â”‚
  â”‚                                             â”‚
  â”‚ annotation_report.csv                       â”‚
  â”‚ â†’ One row per error                         â”‚
  â”‚ â†’ Useful for statistical analysis           â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’» SYSTEM REQUIREMENTS:

  âœ… Python 3.7+
  âœ… pandas
  âœ… openpyxl
  âœ… Modern web browser (Chrome, Firefox, Safari, Edge)

  Install Python packages:
  $ pip install pandas openpyxl

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š OUTPUT COLUMNS (in results_with_annotations.xlsx):

  error_taxonomy_annotations
  â””â”€ Full annotation objects with all metadata

  error_annotation_summary  
  â””â”€ Summarized: total_errors, average_severity, taxonomy_tags

  deletion_annotations
  â””â”€ All DEL errors with their taxonomy & severity

  substitution_annotations  
  â””â”€ All SUB errors with their taxonomy & severity

  insertion_annotations
  â””â”€ All INS errors with their taxonomy & severity

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ EXAMPLE ANNOTATIONS:

  Error: [DEL: __metformin__]
  Human Text: "started metformin for diabetes"
  Human Judgment:
    Taxonomy: ["Medication"]
    Severity: 4 (High)
  Rationale: Missing medication name is critical for patient care


  Error: [SUB: ~~tree~~]  
  Human Text: "once a day" â†’ "tree a day"
  Human Judgment:
    Taxonomy: ["Temporal"]
    Severity: 2 (Low)
  Rationale: Clear from context, obviously meant "three" 


  Error: [INS: ++and++]
  Human Text: "headache" â†’ "headache and"
  Human Judgment:
    Taxonomy: ["Clinical Concepts"]
    Severity: 1 (Minor)
  Rationale: Redundant but doesn't change clinical meaning


  Error: [SUB: ~~insulin~~]
  Human Text: "ibuprofen for pain" â†’ "insulin for pain"  
  Human Judgment:
    Taxonomy: ["Medication"]
    Severity: 5 (Critical)
  Rationale: WRONG DRUG CLASS! Dangerous error for patient safety

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â“ QUICK REFERENCE:

  Q: How do I start?
  A: python prepare_annotations.py --input all_result_processed.xlsx --model whisper

  Q: What do I open in the browser?
  A: annotation_interface.html

  Q: How do I save my work?
  A: Click the "ğŸ’¾ Export Annotations" button when done

  Q: Can I annotate multiple models?
  A: Yes! Run prepare_annotations.py for each model (whisper, phi4, parakeet, granite)

  Q: How do I get my data back into Excel?
  A: python process_annotations.py --annotations <file> --original all_result_processed.xlsx

  Q: Can I see statistics while annotating?
  A: Yes! Click the "Summary" tab in the interface

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸš€ YOU'RE READY!

  1. Run: python prepare_annotations.py --input all_result_processed.xlsx --model whisper
  2. Open: annotation_interface.html (just double-click it)
  3. Load: The JSON file you just created
  4. Annotate: Click on errors and assign taxonomy + severity
  5. Export: Click ğŸ’¾ when done
  6. Process: python process_annotations.py --annotations <file> --original all_result_processed.xlsx
  7. Analyze: Use results_with_annotations.xlsx for your analysis!

For detailed help, see: ANNOTATION_TOOL_README.md

Happy annotating! ğŸ‰
